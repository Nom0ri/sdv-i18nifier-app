import{_ as k,o as f,c as y,a as s,d as a,v as p}from"./index-506ed05a.js";import{_ as d}from"./copy-icon-286decec.js";const g={data(){return{inputText:"",contentText:"",i18nText:"",customToken:"",customImport:""}},computed:{ImportToken(){return this.customImport.length>0?`${this.customImport}`:"ImportToken"}},watch:{inputText:{handler(e){this.processData(e)}},customToken:{handler(){this.processData(this.inputText)}},customImport:{handler(){this.processData(this.inputText)}}},methods:{checkInput(e){const t=/"(.*?)":/g;return(e.match(t)||[]).length>1?(this.contentText="Only one event at a time.",this.i18nText="Maybe I'll add the ability to convert more at once later.",!1):!0},findToken(e){const t=/(?:"|")([\w.]+)(?:"|\/)/,l=e.match(t);if(this.customToken.trim().length===0){if(l&&l[1])return l[1]}else return this.customToken},cutString(e){const t=/(?:(?:\/|\\\\)speak|(?:\/|\\\\)question|(?:\/|\\\\)message|(?:\/|\\\\)end dialogue|(?:\/|\\\\)splitSpeak|(?:\/|\\\\)textAboveHead|\(break\)speak)[^"]*"([^"]+)\\|(?:\/quickQuestion (.*?)\(break\))/g,l=[];let i;for(;(i=t.exec(e))!==null;)i[1]!==void 0?l.push(i[1]):i[2]!==void 0&&l.push(i[2]);return l},processData(e){const t=this.inputText;if(!this.checkInput(t))return;const i=this.findToken(e),o=this.cutString(e);let c="",n=e;for(let r=0;r<o.length;r++){const u=o[r],m=`"${i}.${r}"`,h=`"${u}"`,x=`${u}`,T=this.dynamicTokenCheck(u);c+=`${m}: ${h},
`,n=n.replace(x,T?`{{i18n:${i}.${r} {{${this.ImportToken}}} }}`:`{{i18n:${i}.${r}}}`)}c.trim()!==""?this.contentText=n.trim()+`
`:this.contentText="",this.i18nText=c.trim()},dynamicTokenCheck(e){const t=e.match(/[^"]*({{[^}]*}})[^"]*/);return t!==null&&t[1].length>4},copyToClipboard(e){document.getElementById(e).select(),document.execCommand("copy"),window.getSelection().removeAllRanges()}}},C={class:"input-page"},v=s("h2",{class:"page-header text-2xl mb-4"},"Events",-1),I={class:"input-containers-wrapper"},b={class:"input-container left"},_={class:"input-container right"},V={class:"copy-button-placement"},w={class:"copy-button-placement"};function D(e,t,l,i,o,c){return f(),y("div",C,[v,s("div",I,[s("div",b,[a(s("textarea",{class:"input-field hide-scroll",placeholder:"Input entry",id:"input-data","onUpdate:modelValue":t[0]||(t[0]=n=>o.inputText=n)},null,512),[[p,o.inputText]]),a(s("input",{class:"prefix-field",type:"text",placeholder:"Custom Token","onUpdate:modelValue":t[1]||(t[1]=n=>o.customToken=n)},null,512),[[p,o.customToken]]),a(s("input",{class:"prefix-field",type:"text",placeholder:"Custom Import Token","onUpdate:modelValue":t[2]||(t[2]=n=>o.customImport=n)},null,512),[[p,o.customImport]])]),s("div",_,[s("div",V,[a(s("textarea",{class:"input-field button-padding hide-scroll",placeholder:"Content.json",id:"content-field",readonly:"","onUpdate:modelValue":t[3]||(t[3]=n=>o.contentText=n)},null,512),[[p,o.contentText]]),s("img",{class:"copy-button",onClick:t[4]||(t[4]=n=>c.copyToClipboard("content-field")),src:d,alt:"Copy Content",title:"Copy"})]),s("div",w,[a(s("textarea",{class:"input-field button-padding hide-scroll",placeholder:"i18n",id:"i18n-field",readonly:"","onUpdate:modelValue":t[5]||(t[5]=n=>o.i18nText=n)},null,512),[[p,o.i18nText]]),s("img",{class:"copy-button",onClick:t[6]||(t[6]=n=>c.copyToClipboard("i18n-field")),src:d,alt:"Copy i18n",title:"Copy"})])])])])}const U=k(g,[["render",D]]);export{U as default};

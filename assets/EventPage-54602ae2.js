import{_ as k,o as f,c as g,a as i,d as a,v as p}from"./index-84b72349.js";import{_ as d}from"./copy-icon-286decec.js";const y={data(){return{inputText:"",contentText:"",i18nText:"",customToken:"",customImport:""}},computed:{ImportToken(){return this.customImport.length>0?`${this.customImport}`:"ImportToken"}},watch:{inputText:{handler(e){this.processData(e)}},customToken:{handler(){this.processData(this.inputText)}},customImport:{handler(){this.processData(this.inputText)}}},methods:{checkInput(e){const t=/"(.*?)":/g;return(e.match(t)||[]).length>1?(this.contentText="Only one event at a time.",this.i18nText="Maybe I'll add the ability to convert more at once later.",!1):!0},findToken(e){const t=/(?:"|")([\w.]+)(?:"|\/)/,o=e.match(t);if(this.customToken.trim().length===0){if(o&&o[1])return o[1]}else return this.customToken},cutString(e){const t=/(?:(?:\/|\\\\)speak|(?:\/|\\\\)question|(?:\/|\\\\)message|(?:\/|\\\\)end dialogue|(?:\/|\\\\)splitSpeak|(?:\/|\\\\)textAboveHead|\(break\)speak)[^"]*"([^"]+)\\|(?:\/quickQuestion (.*?)\(break\))/g,o=[];let l;for(;(l=t.exec(e))!==null;)l[1]!==void 0?o.push(l[1]):l[2]!==void 0&&o.push(l[2]);return o},processData(e){const t=this.inputText;if(!this.checkInput(t))return;const l=this.findToken(e),s=this.cutString(e);let c="",n=e;for(let r=0;r<s.length;r++){const u=s[r],m=`"${l}.${r}"`,h=`"${u}"`,x=`${u}`,T=this.dynamicTokenCheck(u);c+=`${m}: ${h},
`,n=n.replace(x,T?`{{i18n:${l}.${r} {{${this.ImportToken}}} }}`:`{{i18n:${l}.${r}}}`)}c.trim()!==""?this.contentText=n.trim()+`
`:this.contentText="",this.i18nText=c.trim()},dynamicTokenCheck(e){const t=/[^"]*({{[^}]*}})[^"]*/g;let o;return(o=t.exec(e))!==null&&o[0].length>4},copyToClipboard(e){document.getElementById(e).select(),document.execCommand("copy"),window.getSelection().removeAllRanges()}}},C={class:"input-page"},v=i("h2",{class:"page-header text-2xl mb-4"},"Events",-1),I={class:"input-containers-wrapper"},b={class:"input-container left"},_={class:"input-container right"},V={class:"copy-button-placement"},w={class:"copy-button-placement"};function D(e,t,o,l,s,c){return f(),g("div",C,[v,i("div",I,[i("div",b,[a(i("textarea",{class:"input-field hide-scroll",placeholder:"Input entry",id:"input-data","onUpdate:modelValue":t[0]||(t[0]=n=>s.inputText=n)},null,512),[[p,s.inputText]]),a(i("input",{class:"prefix-field",type:"text",placeholder:"Custom Token","onUpdate:modelValue":t[1]||(t[1]=n=>s.customToken=n)},null,512),[[p,s.customToken]]),a(i("input",{class:"prefix-field",type:"text",placeholder:"Custom Import Token","onUpdate:modelValue":t[2]||(t[2]=n=>s.customImport=n)},null,512),[[p,s.customImport]])]),i("div",_,[i("div",V,[a(i("textarea",{class:"input-field button-padding hide-scroll",placeholder:"Content.json",id:"content-field",readonly:"","onUpdate:modelValue":t[3]||(t[3]=n=>s.contentText=n)},null,512),[[p,s.contentText]]),i("img",{class:"copy-button",onClick:t[4]||(t[4]=n=>c.copyToClipboard("content-field")),src:d,alt:"Copy Content",title:"Copy"})]),i("div",w,[a(i("textarea",{class:"input-field button-padding hide-scroll",placeholder:"i18n",id:"i18n-field",readonly:"","onUpdate:modelValue":t[5]||(t[5]=n=>s.i18nText=n)},null,512),[[p,s.i18nText]]),i("img",{class:"copy-button",onClick:t[6]||(t[6]=n=>c.copyToClipboard("i18n-field")),src:d,alt:"Copy i18n",title:"Copy"})])])])])}const U=k(y,[["render",D]]);export{U as default};

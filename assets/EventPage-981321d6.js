import{P as a}from"./PageLayout-06615919.js";import{_ as l,r as h,o as x,g as f}from"./404-f54f3551.js";const d={components:{PageLayout:a},data(){return{inputText:"",contentText:"",i18nText:"",customToken:"",customImport:""}},computed:{ImportToken(){return this.customImport.length>0?`${this.customImport}`:"ImportToken"}},watch:{inputText:{handler(e){this.processData(e)}},customToken:{handler(){this.processData(this.inputText)}},customImport:{handler(){this.processData(this.inputText)}}},methods:{checkInput(e){const t=/"(.*?)":/g;return(e.match(t)||[]).length>1?(this.contentText="Only one event at a time.",this.i18nText="",!1):!0},findToken(e){const t=/(?:"|_|\.|-)([\w.]+)(?:"|\/)/,n=e.match(t);if(this.customToken.trim().length===0){if(n&&n[1])return n[1]}else return this.customToken},cutString(e){const t=/(?:(?:\/|\\\\|\r?\n|\s)speak|question|message|end dialogue|splitSpeak|textAboveHead|\(break\)speak)[^"]*"([^"]+)\\|(?:\/\squickQuestion (.*?)\(break\))/g,n=[];let o;for(;(o=t.exec(e))!==null;)o[1]!==void 0?n.push(o[1]):o[2]!==void 0&&n.push(o[2]);return n},processData(e){const t=this.inputText;if(!this.checkInput(t))return;const o=this.findToken(e),i=this.cutString(e);let u="",c=e;for(let s=0;s<i.length;s++){const r=i[s],m=`"${o}.${s}"`,p=`"${r}"`,T=`${r}`,k=this.dynamicTokenCheck(r);u+=`${m}: ${p},
`,c=c.replace(T,k?`{{i18n:${o}.${s} {{${this.ImportToken}}} }}`:`{{i18n:${o}.${s}}}`)}u.trim()!==""?this.contentText=c.trim()+`
`:this.contentText="",this.i18nText=u.trim()},dynamicTokenCheck(e){const t=/[^"]*({{[^}]*}})[^"]*/g;let n;return(n=t.exec(e))!==null&&n[0].length>4}}};function g(e,t,n,o,i,u){const c=h("PageLayout");return x(),f(c,{title:"Events",showCustomToken:"",showCustomImportToken:"",inputText:i.inputText,contentText:i.contentText,i18nText:i.i18nText,customToken:i.customToken,customImportToken:i.customImport,"onUpdate:inputText":t[0]||(t[0]=s=>i.inputText=s),"onUpdate:customToken":t[1]||(t[1]=s=>i.customToken=s),"onUpdate:customImportToken":t[2]||(t[2]=s=>i.customImport=s)},null,8,["inputText","contentText","i18nText","customToken","customImportToken"])}const $=l(d,[["render",g]]);export{$ as default};

import{P as u}from"./PageLayout-f92bb5ca.js";import{c as f}from"./scriptUtils-8ceee955.js";import{_ as p,r as m,o as T,g as l}from"./404-67355e5d.js";const h={components:{PageLayout:u},data(){return{inputText:"",contentText:"",i18nText:"",customPrefix:""}},watch:{inputText:{handler(e){this.processData(e)}},customPrefix:{handler(){this.processData(this.inputText)}}},methods:{checkInput(e){return/^("[^"]+":\s*".*\/.*\/.*\/.*\/.*\/.*",?\s*)+$/.test(e.trim())?!0:(this.contentText="Invalid input",this.i18nText="",!1)},extractGiftData(e){const o=/"([^"]+)":\s*"([^"]*)"/g.exec(e);if(!o)return null;const s=o[1],t=f(s),n=o[2].split("/");return{token:this.customPrefix.trim()?`${this.customPrefix}.${t}`:t,reactions:{love:n[0].trim(),like:n[2].trim(),dislike:n[4].trim(),hate:n[6].trim(),neutral:n[8].trim()}}},processData(e){if(!this.checkInput(e))return;const o=e.match(/"[^"]+":\s*"[^"]*"/g);if(!o){this.contentText="Invalid input format",this.i18nText="";return}let s=e,t="";for(const n of o){const r=this.extractGiftData(n);if(r){for(const[c,a]of Object.entries(r.reactions)){const x=`${r.token}.${c}`;t+=`"${x}": "${a}",
`,s=s.replace(a,`{{i18n:${x}}}`)}t+=`
`}}this.contentText=s,this.i18nText=t}}};function P(e,i,o,s,t,n){const r=m("PageLayout");return T(),l(r,{title:"Gift Taste Data",showCustomPrefix:"",inputText:t.inputText,contentText:t.contentText,i18nText:t.i18nText,customPrefix:t.customPrefix,"onUpdate:inputText":i[0]||(i[0]=c=>t.inputText=c),"onUpdate:customPrefix":i[1]||(i[1]=c=>t.customPrefix=c)},null,8,["inputText","contentText","i18nText","customPrefix"])}const D=p(h,[["render",P]]);export{D as default};

import{P as u}from"./PageLayout-1d7c4e6e.js";import{_ as f,r as p,o as m,g as T}from"./index-0be6d8c6.js";const l={components:{PageLayout:u},data(){return{inputText:"",contentText:"",i18nText:"",customPrefix:""}},watch:{inputText:{handler(e){this.processData(e)}},customPrefix:{handler(){this.processData(this.inputText)}}},methods:{checkInput(e){return/^("[^"]+":\s*".*\/.*\/.*\/.*\/.*\/.*",?\s*)+$/.test(e.trim())?!0:(this.contentText="Invalid input",this.i18nText="",!1)},extractGiftData(e){const i=/"((?:{{ModId}}[_.\-\s]*)?([^"']+))":\s*"([^"]*)"/i.exec(e);if(!i)return null;const o=i[2],t=i[3].split("/");return{token:this.customPrefix.trim()?`${this.customPrefix}.${o}`:o,reactions:{love:t[0].trim(),like:t[2].trim(),dislike:t[4].trim(),hate:t[6].trim(),neutral:t[8].trim()}}},processData(e){if(!this.checkInput(e))return;const i=e.match(/"[^"]+":\s*"[^"]*"/g);if(!i){this.contentText="Invalid input format",this.i18nText="";return}let o=e,t="";for(const c of i){const s=this.extractGiftData(c);if(s){for(const[r,a]of Object.entries(s.reactions)){const x=`${s.token}.${r}`;t+=`"${x}": "${a}",
`,o=o.replace(a,`{{i18n: ${x}}}`)}t+=`
`}}this.contentText=o,this.i18nText=t}}};function h(e,n,i,o,t,c){const s=p("PageLayout");return m(),T(s,{title:"Gift Taste Data",showCustomPrefix:"",inputText:t.inputText,contentText:t.contentText,i18nText:t.i18nText,customPrefix:t.customPrefix,"onUpdate:inputText":n[0]||(n[0]=r=>t.inputText=r),"onUpdate:customPrefix":n[1]||(n[1]=r=>t.customPrefix=r)},null,8,["inputText","contentText","i18nText","customPrefix"])}const d=f(l,[["render",h]]);export{d as default};

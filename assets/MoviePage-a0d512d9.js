import{P as m}from"./PageLayout-18b4af50.js";import{c as l}from"./scriptUtils-8ceee955.js";import{_ as h,r as k,o as f,g as d}from"./404-53a01e42.js";const g={components:{PageLayout:m},data(){return{inputText:"",contentText:"",i18nText:"",customToken:""}},watch:{inputText:{handler(t){this.processData(t)}},customToken:{handler(){this.processData(this.inputText)}}},methods:{checkInput(t){const e=/"NPCName"/g;return(t.match(e)||[]).length>1?(this.contentText="Only one NPC reaction at a time.",this.i18nText="",!1):!0},findToken(t){const e=/"NPCName":\s*"([^"]*)"/,n=t.match(e);if(this.customToken.trim().length===0){if(n&&n[1])return n[1]+".Movies"}else return this.customToken},cutString(t){const e=/(?:\/speak|\/message|\/end dialogue|\/splitSpeak|\/textAboveHead)[^"]*"([^"]+)\\|"Text":\s*"([^"]+)"/g,n=[];let o;for(;(o=e.exec(t))!==null;)o[1]!==void 0?n.push(o[1]):o[2]!==void 0&&n.push(o[2]);return n},processData(t){const e=this.inputText;if(!this.checkInput(e))return;const o=this.findToken(t),s=l(o),r=this.cutString(t);let c="",i=t;for(let u=0;u<r.length;u++){const a=r[u],T=`"${s}.${u}"`,x=`"${a}"`,p=`${a}`;c+=`${T}: ${x},
`,i=i.replace(p,`{{i18n:${s}.${u}}}`)}c.trim()!==""?this.contentText=i.trim()+`
`:this.contentText="",this.i18nText=c.trim()}}};function P(t,e,n,o,s,r){const c=k("PageLayout");return f(),d(c,{title:"Movie Reactions",showCustomToken:"",inputText:s.inputText,contentText:s.contentText,i18nText:s.i18nText,customToken:s.customToken,"onUpdate:inputText":e[0]||(e[0]=i=>s.inputText=i),"onUpdate:customToken":e[1]||(e[1]=i=>s.customToken=i)},null,8,["inputText","contentText","i18nText","customToken"])}const $=h(g,[["render",P]]);export{$ as default};

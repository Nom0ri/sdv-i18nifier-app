import{P as p}from"./PageLayout-1d7c4e6e.js";import{_ as m,r as l,o as h,g as k}from"./index-0be6d8c6.js";const f={components:{PageLayout:p},data(){return{inputText:"",contentText:"",i18nText:"",customToken:""}},watch:{inputText:{handler(t){this.processData(t)}},customToken:{handler(){this.processData(this.inputText)}}},methods:{checkInput(t){const e=/"NPCName"/g;return(t.match(e)||[]).length>1?(this.contentText="Only one NPC reaction at a time.",this.i18nText="",!1):!0},findToken(t){const e=/"NPCName":\s*"([^"]*)"/,o=t.match(e);if(this.customToken.trim().length===0){if(o&&o[1])return o[1]+".Movies"}else return this.customToken},cutString(t){const e=/(?:\/speak|\/message|\/end dialogue|\/splitSpeak|\/textAboveHead)[^"]*"([^"]+)\\|"Text":\s*"([^"]+)"/g,o=[];let n;for(;(n=e.exec(t))!==null;)n[1]!==void 0?o.push(n[1]):n[2]!==void 0&&o.push(n[2]);return o},processData(t){const e=this.inputText;if(!this.checkInput(e))return;const n=this.findToken(t),s=this.cutString(t);let u="",c=t;for(let i=0;i<s.length;i++){const r=s[i],a=`"${n}.${i}"`,x=`"${r}"`,T=`${r}`;u+=`${a}: ${x},
`,c=c.replace(T,`{{i18n:${n}.${i}}}`)}u.trim()!==""?this.contentText=c.trim()+`
`:this.contentText="",this.i18nText=u.trim()}}};function d(t,e,o,n,s,u){const c=l("PageLayout");return h(),k(c,{title:"Movie Reactions",showCustomToken:"",inputText:s.inputText,contentText:s.contentText,i18nText:s.i18nText,customToken:s.customToken,"onUpdate:inputText":e[0]||(e[0]=i=>s.inputText=i),"onUpdate:customToken":e[1]||(e[1]=i=>s.customToken=i)},null,8,["inputText","contentText","i18nText","customToken"])}const C=m(f,[["render",d]]);export{C as default};

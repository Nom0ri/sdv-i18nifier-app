import{P as T}from"./PageLayout-2962737e.js";import{_ as D,r as d,o as g,g as P}from"./index-833a2599.js";const y={components:{PageLayout:T},data(){return{inputText:"",contentText:"",i18nText:"",customPrefix:""}},watch:{inputText:{handler(e){this.processData(e)}},customPrefix:{handler(){this.processData(this.inputText)}}},methods:{checkInput(e){const o=e.replace(/{{ModId}}_/g,"").match(/"([^"]+)":\s*{[^}]*\s*"DisplayName":\s*"([^"]*)",?\s*"Description":\s*"([^"]*)"/g);return!o||o.length===0?(this.contentText="Incorrect format",this.i18nText=`Input needs to have at least this info:
"<ID>": {
 		 ...
 		 "DisplayName": "<DisplayName>",
 		 "Description": "<Description>", 
 		 ... 
		}`,!1):!0},processData(e){const s=e.replace(/{{ModId}}_/g,"").replace(/}}/g,"");if(!this.checkInput(s))return;const c=s.match(/"([^"]+)":\s*{[^}]*\s*"DisplayName":\s*"([^"]*)",?\s*"Description":\s*"([^"]*)"/g);let t="",n=e;c&&c.forEach(p=>{const[,i,a,r]=p.match(/"([^"]+)":\s*{[^}]*\s*"DisplayName":\s*"([^"]*)",?\s*"Description":\s*"([^"]*)"/),x=`${this.customPrefix.length>0?this.customPrefix+".":""}${i}.DisplayName`,m=`${this.customPrefix.length>0?this.customPrefix+".":""}${i}.Description`;t+=`"${x}": "${a}",
`,t+=`"${m}": "${r}",
`;const u=this.escapeRegExp(a),l=this.escapeRegExp(r),h=new RegExp(`"DisplayName":\\s*("${u}")`),f=new RegExp(`"Description":\\s*("${l}")`);n=n.replace(h,`"DisplayName": "{{i18n:${x}}}"`),n=n.replace(f,`"Description": "{{i18n:${m}}}"`)}),this.contentText=t.trim()?`${n}
`:"",this.i18nText=t.trim()},escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}};function $(e,s,o,c,t,n){const p=d("PageLayout");return g(),P(p,{title:"Object Data",showCustomPrefix:"",inputText:t.inputText,contentText:t.contentText,i18nText:t.i18nText,customPrefix:t.customPrefix,"onUpdate:inputText":s[0]||(s[0]=i=>t.inputText=i),"onUpdate:customPrefix":s[1]||(s[1]=i=>t.customPrefix=i)},null,8,["inputText","contentText","i18nText","customPrefix"])}const _=D(y,[["render",$]]);export{_ as default};

import{P as D}from"./PageLayout-f92bb5ca.js";import{c as u}from"./scriptUtils-8ceee955.js";import{_ as d,r as g,o as P,g as y}from"./404-67355e5d.js";const $={components:{PageLayout:D},data(){return{inputText:"",contentText:"",i18nText:"",customPrefix:""}},watch:{inputText:{handler(t){this.processData(t)}},customPrefix:{handler(){this.processData(this.inputText)}}},methods:{checkInput(t){const o=t.replace(/{{ModId}}_/g,""),p=o.match(/"([^"]+)":\s*{[^}]*?"DisplayName":\s*"([^"]*)"/gi)||[],m=o.match(/"([^"]+)":\s*{[^}]*?"Description":\s*"([^"]*)"/gi)||[];return p.length===0||m.length===0?(this.contentText="Incorrect format",this.i18nText=`Input needs to have at least this info:
"<ID>": {
 		 ...
 		 "DisplayName": "<DisplayName>",
 		 "Description": "<Description>", 
 		 ... 
		}`,!1):!0},processData(t){if(!this.checkInput(t))return;const p=t.match(/"([^"]+)":\s*{[^}]*?"DisplayName":\s*"([^"]*)"/gi)||[],m=t.match(/"([^"]+)":\s*{[^}]*?"Description":\s*"([^"]*)"/gi)||[];let e="",r=t;const i={};p.forEach(s=>{const[,c,a]=s.match(/"([^"]+)":\s*{[^}]*?"DisplayName":\s*"([^"]*)"/i),n=u(c);i[n]||(i[n]={}),i[n].displayName=a}),m.forEach(s=>{const[,c,a]=s.match(/"([^"]+)":\s*{[^}]*?"Description":\s*"([^"]*)"/i),n=u(c);i[n]||(i[n]={}),i[n].description=a}),Object.entries(i).forEach(([s,{displayName:c,description:a}])=>{if(!c||!a)return;const n=`${this.customPrefix.length>0?this.customPrefix+".":""}${s}.DisplayName`,x=`${this.customPrefix.length>0?this.customPrefix+".":""}${s}.Description`;e+=`"${n}": "${c}",
`,e+=`"${x}": "${a}",
`;const h=this.escapeRegExp(c),l=this.escapeRegExp(a),f=new RegExp(`"DisplayName":\\s*("${h}")`,"i"),T=new RegExp(`"Description":\\s*("${l}")`,"i");r=r.replace(f,`"DisplayName": "{{i18n:${n}}}"`),r=r.replace(T,`"Description": "{{i18n:${x}}}"`)}),this.contentText=e.trim()?`${r}
`:"",this.i18nText=e.trim()},escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}};function I(t,o,p,m,e,r){const i=g("PageLayout");return P(),y(i,{title:"Object Data",showCustomPrefix:"",inputText:e.inputText,contentText:e.contentText,i18nText:e.i18nText,customPrefix:e.customPrefix,"onUpdate:inputText":o[0]||(o[0]=s=>e.inputText=s),"onUpdate:customPrefix":o[1]||(o[1]=s=>e.customPrefix=s)},null,8,["inputText","contentText","i18nText","customPrefix"])}const k=d($,[["render",I]]);export{k as default};

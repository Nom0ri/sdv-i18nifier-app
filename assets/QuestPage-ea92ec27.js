import{_ as h,o as T,c as m,a as l,d as a,v as r}from"./index-abb98b04.js";import{_ as d}from"./copy-icon-286decec.js";const f={data(){return{inputText:"",contentText:"",i18nText:"",customToken:""}},watch:{inputText:{handler(o){this.processData(o)}},customToken:{handler(){this.processData(this.inputText)}}},methods:{checkInput(o){const e=/"([^"]+)":\s*"((?:\\"|[^"])*)"/g,t=(o.match(e)||[]).length;return t>1?(this.contentText="Only one quest at a time.",this.i18nText="",!1):t<1?(this.contentText="Invalid input",this.i18nText="",!1):!0},extractQuestInfo(o){const e=o.split("/"),t=/"(.*?)":/g;if(e.length>=5){const s=e[1],i=e[2],c=e[3];let n=e[9]||null;const x=/(?:", *|" *)/g;n&&(n=n.replace(x,""));let p=null;if(this.customToken.trim().length===0){const u=t.exec(o);u&&u[1]&&(p=u[1])}else p=this.customToken;return{token:p,title:s,questDetails:i,hint:c,reactionText:n}}return null},processData(o){if(!this.checkInput(o))return;const t=this.extractQuestInfo(o);if(t){let s=o;s=s.replace(t.title,`{{i18n:${t.token}.title}}`),s=s.replace(t.questDetails,`{{i18n:${t.token}.text}}`),s=s.replace(t.hint,`{{i18n:${t.token}.objective}}`);let i=`"${t.token}.title": "${t.title}",
"${t.token}.text": "${t.questDetails}",
"${t.token}.objective": "${t.hint}",
`;if(t.reactionText&&t.reactionText.trim()!==""){const c=t.reactionText.replace(/(\r\n|\n|\r)/gm,"");s=s.replace(c,`{{i18n:${t.token}.reaction}}`),i+=`"${t.token}.reaction": "${c}",`}else this.i18nText="";this.contentText=s,this.i18nText=i}else this.contentText="Invalid input format",this.i18nText=""},copyToClipboard(o){document.getElementById(o).select(),document.execCommand("copy"),window.getSelection().removeAllRanges()}}},k={class:"input-page"},g=l("h2",{class:"page-header text-2xl mb-4"},"Quests",-1),y={class:"input-containers-wrapper"},v={class:"input-container left"},C={class:"input-container right"},_={class:"copy-button-placement"},b={class:"copy-button-placement"};function I(o,e,t,s,i,c){return T(),m("div",k,[g,l("div",y,[l("div",v,[a(l("textarea",{class:"input-field hide-scroll",placeholder:"Input entry",id:"input-data","onUpdate:modelValue":e[0]||(e[0]=n=>i.inputText=n)},null,512),[[r,i.inputText]]),a(l("input",{class:"prefix-field",type:"text",placeholder:"Custom Token","onUpdate:modelValue":e[1]||(e[1]=n=>i.customToken=n)},null,512),[[r,i.customToken]])]),l("div",C,[l("div",_,[a(l("textarea",{class:"input-field button-padding hide-scroll",placeholder:"Content.json",id:"content-field",readonly:"","onUpdate:modelValue":e[2]||(e[2]=n=>i.contentText=n)},null,512),[[r,i.contentText]]),l("img",{class:"copy-button",onClick:e[3]||(e[3]=n=>c.copyToClipboard("content-field")),src:d,alt:"Copy Content",title:"Copy"})]),l("div",b,[a(l("textarea",{class:"input-field button-padding hide-scroll",placeholder:"i18n",id:"i18n-field",readonly:"","onUpdate:modelValue":e[4]||(e[4]=n=>i.i18nText=n)},null,512),[[r,i.i18nText]]),l("img",{class:"copy-button",onClick:e[5]||(e[5]=n=>c.copyToClipboard("i18n-field")),src:d,alt:"Copy i18n",title:"Copy"})])])])])}const V=h(f,[["render",I]]);export{V as default};
